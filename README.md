# НСМ &laquo;Мопед&raquo;

Набор для создания простого интернет-магазина.

Работает с сервисом [Яндекс.Деньги](https://money.yandex.ru). Выполнен по технологии одностраничника (index.html как точка входа, весь отстальной контент и переходы производятся с помощью JavaScript, активно используется AJAX-подгрузка).

## Назначение файлов

    assets/ - подключаемые ресурсы
        css/  - стили
            core.css - основной файл стилей
        js/ - скрипты
            core.js - основной файл стилей
            creole-ss-v2 - маркдаун-подобный парсер страниц

    data/ - содержимое страниц
        items/ - товары
        pages/ - прочие (информационных, служебных)

    img/ - изображения, используемые на страницах
        small/ - маленькие версии
        full/ - полноразмерные

    content.js - индекс товаров, страниц, служебные переменные
    favicon.png - иконка сайта
    index.html - главная и единственная настоящая страница сайта

## Оплата

Оплата выполнена через [конструктор форм от Яндекс.Денег](https://money.yandex.ru/embed/smallshop/). Свой счёт можно указать в переменной yaccount в файле content.js. Кнопка оплаты находится в файле core.js в районе строки 128 (src="https://money.yandex.ru/...).

## Изображения

Для представления товаров на сайте используются небольшие изображения из папки img/small. товару можно указать флаг fsi (full size image) в файле content.js ({..., fsi: true}), тогда при клике на миниатюру будет произведена попытка загрузить полную версию изображения из папки img/full с таким же именем во всплывающем окне.

## Фильтр

Фильтрация товаров ведётся на основании строки, собранной из названия и списка тегов ("Жемчужина Приморья" + "жемчуг подвеска"). Используется нечёткий поиск (на пример, вышеуказанный товар найдёт и по запросу "жена мрья", или "напрь чугс", в общем, какой угодно последовательности символов, лишь бы в товаре были эти же символы в этой же последовательности).